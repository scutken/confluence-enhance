{"version":3,"names":["window","VditorToggle","init","document","addEventListener","setup","createRequiredElements","pre","toggleContainer","createElement","className","toggleBtn","id","textContent","vditorContainer","appendChild","parentNode","insertBefore","nextSibling","querySelector","console","warn","markdown","trim","this","isVditorView","isOutlineVisible","generateOutline","contentContainer","outlineContainer","innerHTML","title","headings","querySelectorAll","length","noOutline","style","color","fontStyle","outlineStructure","structure","stack","forEach","heading","index","level","parseInt","tagName","charAt","text","item","element","children","pop","push","buildOutlineStructure","outlineList","createOutlineList","ticking","updateActiveOutlineItem","windowHeight","innerHeight","activeHeading","minDistance","Infinity","rect","getBoundingClientRect","distance","Math","abs","top","link","classList","remove","backgroundColor","activeLink","add","onScroll","requestAnimationFrame","passive","initScrollTracking","parentLevel","list","cssText","listItem","margin","itemContainer","spacer","href","setAttribute","contains","e","preventDefault","target","getElementById","scrollIntoView","behavior","block","childList","isCollapsed","display","transform","addMermaidSvgZoomFeature","container","mermaidContainer","svg","hasAttribute","svgRect","svgWidth","viewBox","baseVal","width","value","displayHeight","height","clientWidth","boxShadow","stopPropagation","modal","svgContainer","clonedSvg","cloneNode","scale","isDragging","startX","startY","translateX","translateY","updateTransform","delta","deltaY","newScale","clientX","clientY","cursor","initialDistance","initialScale","cleanup","body","removeChild","touches","touch1","touch2","hypot","touch","handleEsc","key","removeEventListener","closeBtn","showSvgModal","initVditorPreview","hasChildNodes","createOutlineContainer","Vditor","preview","toc","mark","footnotes","autoSpace","math","engine","inlineDigit","hljs","lineNumber","mermaid","enable","theme","cdn","anchor","lang","current","after","setTimeout","toggleOutline","outlineSwitch","checked","switchContainer","checkbox","type","slider","label","htmlFor","createOutlineToggleSwitch"],"sources":["src/vditor-toggle.js"],"mappings":"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","ignoreList":[]}
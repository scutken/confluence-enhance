{"version":3,"names":["window","VditorToggle","init","document","addEventListener","setup","pre","querySelector","vditorContainer","getElementById","toggleBtn","markdown","textContent","trim","isVditorView","isOutlineVisible","generateOutline","contentContainer","outlineContainer","innerHTML","title","createElement","appendChild","headings","querySelectorAll","length","noOutline","style","color","fontStyle","outlineStructure","structure","stack","forEach","heading","index","level","parseInt","tagName","charAt","text","id","item","element","children","pop","push","buildOutlineStructure","outlineList","createOutlineList","ticking","updateActiveOutlineItem","windowHeight","innerHeight","activeHeading","minDistance","Infinity","rect","getBoundingClientRect","distance","Math","abs","top","link","classList","remove","backgroundColor","activeLink","add","onScroll","requestAnimationFrame","passive","initScrollTracking","parentLevel","list","cssText","listItem","margin","itemContainer","className","spacer","href","setAttribute","this","contains","e","preventDefault","target","scrollIntoView","behavior","block","childList","isCollapsed","display","transform","addMermaidSvgZoomFeature","container","mermaidContainer","svg","hasAttribute","svgRect","svgWidth","viewBox","baseVal","width","value","displayHeight","height","clientWidth","boxShadow","stopPropagation","modal","svgContainer","clonedSvg","cloneNode","scale","isDragging","startX","startY","translateX","translateY","updateTransform","delta","deltaY","newScale","clientX","clientY","cursor","initialDistance","initialScale","cleanup","parentNode","body","removeChild","touches","touch1","touch2","hypot","touch","handleEsc","key","removeEventListener","closeBtn","showSvgModal","initVditorPreview","hasChildNodes","createOutlineContainer","Vditor","preview","toc","mark","footnotes","autoSpace","math","engine","inlineDigit","hljs","lineNumber","mermaid","enable","theme","cdn","anchor","lang","current","after","setTimeout","toggleOutline","outlineSwitch","checked","switchContainer","checkbox","type","slider","label","htmlFor","createOutlineToggleSwitch","toggleContainer","insertBefore"],"sources":["src/vditor-toggle.js"],"mappings":"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","ignoreList":[]}